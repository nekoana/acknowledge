> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [juejin.cn](https://juejin.cn/post/7199812069050712124)

ã€‡ã€æ¦‚è¿°
----

ä½œä¸ºæ¦‚è¿°ï¼Œä»¥ä¸‹æ˜¯æœ¬æ–‡è¦è®²çš„å†…å®¹ã€‚HTTPS æ˜¯ä»€ä¹ˆ? æ¯ä¸ªäººéƒ½å¯èƒ½ä»æµè§ˆå™¨ä¸Šè®¤å‡º HTTPSï¼Œå¹¶å¯¹å®ƒæœ‰å¥½æ„Ÿã€‚ç„¶åå†è®²ä¸€éåŸºç¡€çŸ¥è¯†ï¼Œå†è¯¦ç»†è®²ä¸€ä¸‹åè®®ç‰ˆæœ¬ï¼Œå¯†ç å¥—ä»¶ï¼ˆCipher Suitesï¼‰ï¼Œæœ¬æ–‡çš„é‡ç‚¹ä¼šè½åœ¨å¦‚ä½•é…ç½® NGINXï¼Œè®©ä½ çš„ç½‘ç«™ä½¿ç”¨ HTTPS æœåŠ¡ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä½¿ç”¨ HTTPS ä½œä¸ºä»£ç†çš„é—®é¢˜; æ‰€ä»¥ï¼Œå¦‚æœä½ çš„ NGINX åœ¨å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„å‰é¢ï¼Œä½ å¦‚ä½•è®¾ç½® NGINX ä½œä¸º HTTPS å®¢æˆ·ç«¯ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šä»‹ç»ä¸€äº›æ–¹æ³•ï¼Œç”¨ä»¥æ£€æŸ¥ä½ çš„ HTTPS é…ç½®ï¼Œä»¥çœ‹åˆ°å®ƒæ˜¯æœ€å®‰å…¨çš„å’Œæœ€æ–°çš„ï¼Œä»¥åŠä¸€äº›é¢å¤–ä¸»é¢˜ï¼Œå¸®åŠ©ä½ å¾—åˆ°ä½ éœ€è¦çš„ A+ çº§åˆ«çš„å®‰å…¨ã€‚

æœ¬æ–‡æ¶‰åŠä»¥ä¸‹å†…å®¹ï¼š

1.  ä»€ä¹ˆæ˜¯ HTTPS
2.  åè®®ç‰ˆæœ¬
3.  å¯†ç å¥—ä»¶
4.  è¯ä¹¦

ä¸‹ä¸€ç¯‡çš„å†…å®¹å°†åŒ…æ‹¬ï¼š

1.  é…ç½® NGINX
2.  åç«¯ HTTPS
3.  æ£€æŸ¥é…ç½®
4.  é…ç½® HSTS
5.  OCSP Stapling

ä¸€ã€ä»€ä¹ˆæ˜¯ HTTPS
-----------

ä½ å¯èƒ½çŒœåˆ°äº†ï¼Œ**HTTPS** å°±æ˜¯ **HTTP** åŠ  **S**, S ä»£è¡¨å®‰å…¨ï¼ˆSecurityï¼‰ã€‚å°±ç½‘ç»œè€Œè¨€ï¼Œæœ‰ä¸¤ç§åè®®ï¼Œåˆ†åˆ«å«åš SSL å’Œ TLSã€‚å®ƒä»¬å¯ä»¥äº’æ¢ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œã€Œå®‰å…¨åè®®ã€ï¼ˆa security protocolï¼‰æ˜¯ä½äºé€šä¿¡ä¹‹ä¸Šçš„å®‰å…¨å±‚ã€‚å¦‚æœä½ æƒ³ä¸€ä¸‹ OSI ä¸ƒå±‚ç½‘ç»œæ¨¡å‹ï¼Œé‚£ä¹ˆå®ƒä½äºç¬¬ 7 å±‚çš„ä¸‹é¢å³ç¬¬ 6 å±‚ï¼Œå«åšè¡¨ç¤ºå±‚ã€‚

![](https://pic-cdn.ewhisper.cn/img/2021/09/22/089d3e037050ce944dc48f4300b154db-1954243-20200313112215336-110882305.png)

åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œå®ƒå‘æ‚¨æä¾›çš„æ˜¯æ•°æ®çš„ä¿å¯†æ€§ã€‚å› æ­¤ï¼Œæ‰€æœ‰ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨çš„ä¿¡æ¯éƒ½æ˜¯å®Œå…¨åŠ å¯†çš„ï¼Œæ‰€ä»¥åªæœ‰ä¸¤ä¸ªäººçŸ¥é“å¦‚ä½•è¯»å–ä¿¡æ¯ï¼Œé‚£å°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚å®ƒè¿˜æä¾›äº†ä¸€ç§å½¢å¼çš„èº«ä»½éªŒè¯ï¼Œåœ¨è¿™ç§èº«ä»½éªŒè¯ä¸­ï¼Œå®¢æˆ·æœºå¯ä»¥çŸ¥é“æœåŠ¡å™¨åˆ°åº•æ˜¯è°ã€‚è¿™äº›éƒ½äº¤ç»‡åœ¨æ¡æ‰‹ï¼ˆhandshakeï¼‰çš„æ¦‚å¿µä¸­ã€‚

### 1.1 SSL æ¡æ‰‹ (Diffieâ€‘Hellman)

![](https://pic-cdn.ewhisper.cn/img/2021/09/22/d0692609a1f3c3698c8a40356920f775-Sullivan-conf2015-slide4_ssl-handshake.png)

1.  **å®¢æˆ·ç«¯**ï¼šå®¢æˆ·ç«¯å‘é€ helloã€å®¢æˆ·ç«¯éšæœºï¼ˆclient randomï¼‰å’Œå—æ”¯æŒçš„å¯†ç å¥—ä»¶ï¼ˆcipher suitesï¼‰ç»™æœåŠ¡å™¨ï¼›
2.  ç¬¬äºŒæ­¥
    1.  2aï¼š**æœåŠ¡å™¨**å‘é€æœåŠ¡å™¨éšæœºï¼ˆserver randomï¼‰å’Œå…¬é’¥è¯ä¹¦ï¼ˆpublic key certificateï¼‰ï¼ˆä¹Ÿä¼šå‘é€ä¸€ä¸ªç”¨äºä¼šè¯å¤ç”¨çš„ session IDï¼‰ç»™å®¢æˆ·ç«¯ã€‚
    2.  2bï¼šå®¢æˆ·ç«¯éšæœºã€æœåŠ¡å™¨éšæœºå’Œå…¬é’¥è¯ä¹¦çš„å¯†é’¥ç­¾åã€‚
3.  **æœåŠ¡å™¨**å‘é€æœåŠ¡å™¨ DH (Diffieâ€‘Hellman) å‚æ•°å’Œå¯†é’¥ç­¾åï¼ˆsignatureï¼‰ç»™å®¢æˆ·ç«¯ã€‚
4.  **å®¢æˆ·ç«¯**å‘é€å®¢æˆ·ç«¯ DH å‚æ•°ç»™æœåŠ¡å™¨ã€‚
5.  å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½ä»æœåŠ¡å™¨ DH å‚æ•°å’Œå®¢æˆ·ç«¯ DH å‚æ•°ä¸­è·å¾—ç›¸åŒçš„ premaster secretã€‚
6.  å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½ä»å®¢æˆ·ç«¯éšæœºã€æœåŠ¡å™¨éšæœºå’Œ premaster secret ä¸­è·å¾—ç›¸åŒçš„ä¼šè¯å¯†é’¥ï¼ˆsession keysï¼‰ã€‚å®¢æˆ·ç«¯å¯ä»¥ä»æœåŠ¡å™¨è¯·æ±‚å†…å®¹ï¼Œå¹¶ä¸”è¯·æ±‚å°†è¢«åŠ å¯†ã€‚ï¼ˆä¹Ÿå‘é€äº†ä¼šè¯å¤ç”¨çš„ä¼šè¯ç¥¨æ®ï¼ˆsession ticketï¼‰ï¼‰

ä¸Šå›¾æ˜¯ SSL/TLS æ¡æ‰‹æµç¨‹ã€‚è¿™æœ‰ç‚¹å¤æ‚; æœ‰å¾ˆå¤šå¯ç§»åŠ¨çš„éƒ¨åˆ†ï¼Œä½†æœ¬è´¨ä¸Šï¼Œå¦‚æœä½ é€€ä¸€æ­¥çœ‹ï¼Œå®ƒæ˜¯åœ¨å®¢æˆ·ç«¯å’Œå‘é€åŠ å¯†ä¿¡æ¯çš„æœåŠ¡å™¨ä¹‹é—´é¢å¤–çš„ä¸€åˆ°ä¸¤æ¬¡å¾€è¿”ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æœ‰å‡ ä¸ªé€‰é¡¹â€”â€”æœ‰æœåŠ¡å™¨éšæœºï¼Œæœ‰å®¢æˆ·ç«¯éšæœº; è¿™äº›éƒ½æ˜¯ä½ ä¸éœ€è¦çŸ¥é“çš„æ·±å¥¥çš„ä¸œè¥¿ã€‚

æ‚¨åªéœ€è¦çŸ¥é“æœåŠ¡å™¨æœ¬èº«å‘é€ä¸€ä¸ªå…¬é’¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªå…±äº« secretï¼Œå®ƒä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ª secret æ¥åŠ å¯†é€šä¿¡ã€‚å› æ­¤ï¼Œè®¿é—®è€…å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ‰€æœ‰é€šä¿¡éƒ½ä½¿ç”¨å¯¹ç§°å¯†é’¥åŠ å¯†ï¼Œè¿™æ„å‘³ç€åŒæ–¹éƒ½æœ‰ç›¸åŒçš„å¯†é’¥ã€‚è¿˜æœ‰ä¸€ä¸ªå®Œæ•´æ€§å¯†é’¥ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ HMACï¼Œä½†æˆ‘æš‚æ—¶å…ˆè·³è¿‡è¿™ä¸ªå›¾ï¼Œè½¬è€Œè®¨è®ºæ›´é‡è¦çš„é—®é¢˜: ã€Œä¸ºä»€ä¹ˆéœ€è¦è®¾ç½® HTTPS?ã€

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦è®¾ç½® HTTPS

*   ç”¨æˆ·éšç§
*   SEO åŠ æˆ
*   æ”¾åœ¨ã€Œæ²¡æœ‰ HTTPS èƒ½åŠ›çš„æœåŠ¡ã€çš„å‰é¢
*   é€šç”¨æœ€ä½³å®è·µ

ä¸»è¦åŸå› æ˜¯ç”¨æˆ·éšç§ã€‚åœ¨æœåŠ¡é€šä¿¡çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¿¡æ¯çš„éšç§ - ä½ æœ‰å¤šä¿¡ä»»ä½ æ­£åœ¨ä½¿ç”¨çš„ä¼ è¾“ä¿¡æ¯çš„ç½‘ç»œ? ä½ ç›¸ä¿¡è¿™äº›ç½‘ç»œä¸ä¼šå‘ä½ çš„æµé‡ä¸­æ³¨å…¥ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¯»å–ä¼ è¾“çš„ä¿¡æ¯å—? å¦å¤– 2015 å¹´ä¹‹åï¼Œå¦‚æœä½ åœ¨ä½ çš„ç½‘ç«™ä¸Šä½¿ç”¨ httpsï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæœç´¢å¼•æ“ä¼˜åŒ–çš„ä¼˜åŠ¿ï¼Œè°·æ­Œæ’åï¼ˆä»¥åŠå›½å†…çš„ç™¾åº¦ï¼‰å°†ä¼šæ¯”é‚£äº›ä¸æ”¯æŒ HTTPS çš„ç½‘ç«™æ’åæ›´é«˜ã€‚

å¦ä¸€ä»¶ä½ å¯ä»¥ä¸º HTTPS åšçš„äº‹æƒ…ï¼ˆè¿™æ˜¯ NGINX çš„ä¸»è¦ç”¨ä¾‹ä¹‹ä¸€ï¼‰æ˜¯æŠŠå®ƒæ”¾åœ¨é‚£äº›ä¸æ”¯æŒ HTTPS æˆ–ä¸æ”¯æŒæœ€ç°ä»£ã€æœ€æ–°ç‰ˆæœ¬çš„ SSL å’Œ TLS çš„æœåŠ¡å‰é¢ã€‚å› æ­¤ï¼Œä½ å¯ä»¥ä» NGINX å¾—åˆ°çš„æ˜¯æ‰€æœ‰åŠ å¯†ç®—æ³•çš„æœ€å¥½ã€æœ€å…ˆè¿›çš„å®ç°ï¼Œä½ ä¸éœ€è¦çœŸçš„å»æ€è€ƒ HTTPS çš„å¤æ‚æ€§ï¼Œæ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µã€‚

å¦å¤–ï¼Œå¦‚æœæœ‰äººå»è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œä»–ä»¬å–œæ¬¢çœ‹åˆ°é‚£ä¸ªå¿«ä¹çš„å°é”å›¾æ ‡ã€‚åœ¨æœ¬ä¾‹ä¸­æ˜¯ _nginx.com_ï¼Œå®ƒå¯ç”¨äº† HTTPS å’Œ HSTS (æˆ‘å°†åœ¨åé¢è®¨è®ºè¿™ä¸ªç‰¹æ€§)ã€‚ä½ ä¸èƒ½å†ä½¿ç”¨æ™®é€šçš„ HTTP ç‰ˆæœ¬è®¿é—®äº†; æµè§ˆå™¨çŸ¥é“æ€»æ˜¯ä½¿ç”¨ HTTPSã€‚ä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„å¦ä¸€ä»¶äº‹æ˜¯ï¼Œæœ‰ä¸€ä¸ªæ¼‚äº®çš„ **NGINX, Inc** ä¸ **[US]** æ˜¾ç¤ºè¿™æ˜¯ä¸€ä¸ªæ‰©å±•éªŒè¯è¯ä¹¦ â€”â€” æœ¬è´¨ä¸Šï¼Œè¿™ä¸ªè¯ä¹¦è¡¨æ˜ NGINX æ˜¯å“ªå®¶å…¬å¸çš„ã€‚ä»–ä»¬ä¸ºæ­¤å¤šä»˜äº†ä¸€ç‚¹é’±ï¼Œåšäº†ä¸€äº›è°ƒæŸ¥å¹¶åœ¨è¯ä¹¦ä¸Šå±•ç¤ºå‡ºæ¥ã€‚

![](https://pic-cdn.ewhisper.cn/img/2021/09/22/e97020a69c98dbc09a80f3dc35e07cd5-image-20210922163647786.png)

### 1.3 HTTPS å¸¦æ¥çš„ç¼ºç‚¹æœ‰å“ªäº›ï¼Ÿ

*   æ“ä½œè¿ç»´çš„å¤æ‚æ€§
*   é¢å¤–çš„å»¶è¿Ÿï¼ˆé¦–æ¬¡è¿æ¥å¤šäº† 2 æ¬¡å¾€è¿”ï¼‰
*   CPU æ¶ˆè€—

ä½† HTTPS ä¸æ˜¯åå…¨åç¾; ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚å…·ä½“æ¥è¯´ï¼Œæœ‰ä¸€ç‚¹æ“ä½œè¿ç»´ä¸Šçš„å¤æ‚æ€§ã€‚ä½ å¿…é¡»ç®¡ç†è¯ä¹¦ï¼Œä½ å¿…é¡»ç¡®ä¿å®ƒä»¬æŒç»­æ›´æ–°ã€‚æ‚¨éœ€è¦æœ‰å—ä¿¡ä»»çš„ç®¡ç†å‘˜æ¥ä¿å­˜ç§é’¥èµ„æ–™ã€‚

å½“ä½ é€šè¿‡ HTTPS è¿æ¥åˆ°ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œç¬¬ä¸€æ¬¡å¯èƒ½ä¼šæ…¢ä¸€äº›; å¦‚æœæ‚¨çš„ç‰©ç†è·ç¦»ä¸ä¸€å®šå¾ˆè¿‘ï¼Œé‚£ä¹ˆé™¤äº† TCP æ¡æ‰‹ä¹‹å¤–ï¼Œè¿˜æœ‰ SSL æ¡æ‰‹ï¼Œæ­£å¦‚æˆ‘æåˆ°çš„ï¼Œå®ƒè‡³å°‘å¢åŠ äº†ä¸¤æ¬¡å¾€è¿”ã€‚å› æ­¤ï¼Œå»¶è¿Ÿä¼šå—åˆ°è½»å¾®çš„å½±å“ï¼Œä½†è¿™å¯ä»¥é€šè¿‡ SSL çš„ä¸€äº›æ›´é«˜çº§çš„ç‰¹æ€§ (å¦‚ SPDY å’Œ HTTP/2) æ¥ç¼“è§£ï¼Œæœ¬æ–‡ä¸ä¼šè¯¦ç»†ä»‹ç»è¿™äº›ç‰¹æ€§ã€‚

æœ€ç»ˆ HTTPS å¯ä»¥å’Œ HTTP ä¸€æ ·å¿«ï¼Œä½†æœ‰æ—¶ä¸æ˜¯ã€‚ä½ çš„æœåŠ¡å™¨ä¸Šä¹Ÿæœ‰åŠ å¯†çš„æˆæœ¬; è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿æ—¶é—´ä¸ä½¿ç”¨ HTTPS çš„åŸå› ï¼Œä½†å®ƒè¶Šæ¥è¶Šä¸é€‚ç”¨ã€‚æœ€æ–°ä¸€ä»£è‹±ç‰¹å°”æœåŠ¡å™¨å¯ä»¥éå¸¸å¿«é€Ÿåœ°å®Œæˆ HTTPS æ‰€éœ€çš„åŠ å¯†ï¼Œè€Œä¸”å‡ ä¹æ²¡æœ‰æˆæœ¬ã€‚æ‰€ä»¥ï¼Œåœ¨ç°ä»£ç¡¬ä»¶ä¸­ï¼ŒåŠ å¯†ä¼ è¾“ä¸­çš„æ•°æ®åŸºæœ¬ä¸Šæ˜¯å…è´¹çš„ã€‚

### 1.4 ä½ éœ€è¦ä¸º HTTPS åšå“ªäº›äº‹æƒ…ï¼Ÿ

*   æ”¯æŒçš„ä¸€ç³»åˆ— SSL/TLS åè®®
*   å€¾å‘ä½¿ç”¨çš„ä¸€ç³»åˆ—çš„å¯†ç å¥—ä»¶
*   ç”±å—ä¿¡ä»»çš„è¯ä¹¦æœºæ„ï¼ˆCAï¼‰ç­¾åçš„ç§é’¥å’Œè¯ä¹¦

å¦‚æœä½ æƒ³ä¸ºä½ çš„æœåŠ¡æˆ–ç½‘ç«™è®¾ç½® HTTPSï¼Œä½ éœ€è¦åšä¸€äº›é€‰æ‹©å¹¶è·å¾—ä¸€äº›ä¸œè¥¿ã€‚ç¬¬ä¸€ä¸ªã€Œå†³å®šã€æ˜¯æ‚¨æƒ³è¦æ”¯æŒçš„åè®®ï¼Œç¬¬äºŒä¸ªã€Œå†³å®šã€æ˜¯æ‚¨æƒ³è¦æ”¯æŒçš„å¯†ç ï¼ˆåé¢å°†è¯¦ç»†è¯´æ˜è¿™æ„å‘³ç€ä»€ä¹ˆï¼‰ï¼Œè¿˜æœ‰ã€Œæ‚¨éœ€è¦è·å¾—ã€è¯ä¹¦å’Œç›¸åº”çš„ç§é’¥ã€‚è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼Œç”±å®¢æˆ·ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹è¯ä¹¦é¢å‘æœºæ„ã€Œé¢å‘ã€ã€‚æˆ‘ç¨åä¼šè®²åˆ°ï¼Œä½†é¦–å…ˆè®©æˆ‘ä»¬è°ˆè°ˆåè®®ç‰ˆæœ¬ï¼ˆprotocol versionsï¼‰ã€‚

äºŒã€åè®®ç‰ˆæœ¬ï¼ˆProtocol Versionsï¼‰
-------------------------

å›é¡¾ä¸€ä¸‹å‰æ–‡ï¼ŒHTTPS æ˜¯ HTTP åŠ ä¸Š Sï¼ŒS ä¸€ç›´åœ¨å˜åŒ–; å®ƒæ˜¯éšç€æ—¶é—´è€Œè¿›åŒ–çš„ã€‚æœ€åˆï¼ŒSSL v1.0 æ˜¯ Netscapeï¼ˆç½‘æ™¯ï¼‰ å‘æ˜çš„åè®®ã€‚æœ‰ä¸€ä¸ªè‘—åçš„è½¶äº‹æ˜¯ï¼Œé©¬å…‹ Â· å®‰å¾·æ£®ï¼ˆMarc Andreessenï¼‰åœ¨éº»çœç†å·¥å­¦é™¢åšæ¼”è®²æ—¶è§‚ä¼—å¸­ä¸Šæœ‰äººç”¨é“…ç¬”æè¿°äº†å¦‚ä½•ç ´è§£å¯†ç ç®—æ³•ã€‚

æ‰€ä»¥ï¼ŒSSL TLS åŠ å¯†åè®®å…¶å®å¹¶æ²¡æœ‰å¾ˆé•¿çš„å†å²ï¼Œ1995 å¹´ **ç½‘æ™¯** å‘å¸ƒäº† SSL v2.0ï¼Œè¿™ä¹Ÿæ˜¯ web åŠ å¯†çš„å¼€å§‹ã€‚è¿™ä½¿å¾—ç”µå­å•†åŠ¡é¢†åŸŸï¼Œäººä»¬å¯ä»¥åœ¨çº¿æäº¤å¯†ç å’Œä¿¡ç”¨å¡ï¼Œå¹¶ä¸”è‡³å°‘æ˜¯ç›¸å½“å®‰å…¨çš„ã€‚

### 2.1 HTTPS å†å²èƒŒæ™¯

æ¥ä¸‹æ¥è¯·å‚è§[åŠ å¯†åè®®å†å²æ¦‚è¦ - HTTPS åŸºç¡€åŸç†å’Œé…ç½® - 1 - ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ (ewhisper.cn)](https://link.juejin.cn?target=https%3A%2F%2Fewhisper.cn%2Fposts%2F46790%2F%23%25E5%258A%25A0%25E5%25AF%2586%25E5%258D%258F%25E8%25AE%25AE%25E5%258E%2586%25E5%258F%25B2%25E6%25A6%2582%25E8%25A6%2581 "https://ewhisper.cn/posts/46790/#%E5%8A%A0%E5%AF%86%E5%8D%8F%E8%AE%AE%E5%8E%86%E5%8F%B2%E6%A6%82%E8%A6%81")

[ğŸ˜‚è¢«ç ´è§£å†å²æ¦‚è¦ - HTTPS åŸºç¡€åŸç†å’Œé…ç½® - 1 - ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ (ewhisper.cn)](https://link.juejin.cn?target=https%3A%2F%2Fewhisper.cn%2Fposts%2F46790%2F%23joy-%2520%25E8%25A2%25AB%25E7%25A0%25B4%25E8%25A7%25A3%25E5%258E%2586%25E5%258F%25B2%25E6%25A6%2582%25E8%25A6%2581 "https://ewhisper.cn/posts/46790/#joy-%20%E8%A2%AB%E7%A0%B4%E8%A7%A3%E5%8E%86%E5%8F%B2%E6%A6%82%E8%A6%81")

### 2.2 å®¢æˆ·ç«¯å…¼å®¹æ€§

è¯·å‚è§ï¼š[å®¢æˆ·ç«¯å…¼å®¹æ€§ - HTTPS åŸºç¡€åŸç†å’Œé…ç½® - 1 - ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ (ewhisper.cn)](https://link.juejin.cn?target=https%3A%2F%2Fewhisper.cn%2Fposts%2F46790%2F%23%25E5%25AE%25A2%25E6%2588%25B7%25E7%25AB%25AF%25E5%2585%25BC%25E5%25AE%25B9%25E6%2580%25A7 "https://ewhisper.cn/posts/46790/#%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%85%BC%E5%AE%B9%E6%80%A7")

### 2.3 é…ç½®é€‰é¡¹åŠå¾—åˆ†

è¯·å‚è§ï¼š[é…ç½®å»ºè®® - HTTPS åŸºç¡€åŸç†å’Œé…ç½® - 1 - ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ (ewhisper.cn)](https://link.juejin.cn?target=https%3A%2F%2Fewhisper.cn%2Fposts%2F46790%2F%23%25E9%2585%258D%25E7%25BD%25AE%25E5%25BB%25BA%25E8%25AE%25AE "https://ewhisper.cn/posts/46790/#%E9%85%8D%E7%BD%AE%E5%BB%BA%E8%AE%AE")

ä¸‰ã€å¯†ç å¥—ä»¶ï¼ˆCipher Suitesï¼‰
---------------------

ç°åœ¨è®©æˆ‘ä»¬è¿›å…¥å¯†ç å¥—ä»¶ã€‚ä»€ä¹ˆæ˜¯å¯†ç å¥—ä»¶? SSLã€TLS å’Œ HTTPS ä½¿ç”¨å„ç§åŠ å¯†ç®—æ³•æ¥å»ºç«‹è¿æ¥ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå­—æ¯æ± ã€‚å®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€?

å¯†ç å¥—ä»¶å°±æ˜¯æè¿°ä½¿ç”¨çš„åŠ å¯†ç±»å‹çš„å¤æ‚å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯ç”± openssl å®šä¹‰çš„ï¼ˆå¯ä»¥é€šè¿‡ `openssl ciphers` æŸ¥çœ‹ä½ çš„å¯†ç å¥—ä»¶ï¼‰ã€‚

ç¤ºä¾‹å¦‚ä¸‹ï¼š

```
TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES128-SHA:RSA-PSK-AES256-GCM-SHA384:DHE-PSK-AES256-GCM-SHA384:RSA-PSK-CHACHA20-POLY1305:DHE-PSK-CHACHA20-POLY1305:ECDHE-PSK-CHACHA20-POLY1305:AES256-GCM-SHA384:PSK-AES256-GCM-SHA384:PSK-CHACHA20-POLY1305:RSA-PSK-AES128-GCM-SHA256:DHE-PSK-AES128-GCM-SHA256:AES128-GCM-SHA256:PSK-AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:ECDHE-PSK-AES256-CBC-SHA384:ECDHE-PSK-AES256-CBC-SHA:SRP-RSA-AES-256-CBC-SHA:SRP-AES-256-CBC-SHA:RSA-PSK-AES256-CBC-SHA384:DHE-PSK-AES256-CBC-SHA384:RSA-PSK-AES256-CBC-SHA:DHE-PSK-AES256-CBC-SHA:AES256-SHA:PSK-AES256-CBC-SHA384:PSK-AES256-CBC-SHA:ECDHE-PSK-AES128-CBC-SHA256:ECDHE-PSK-AES128-CBC-SHA:SRP-RSA-AES-128-CBC-SHA:SRP-AES-128-CBC-SHA:RSA-PSK-AES128-CBC-SHA256:DHE-PSK-AES128-CBC-SHA256:RSA-PSK-AES128-CBC-SHA:DHE-PSK-AES128-CBC-SHA:AES128-SHA:PSK-AES128-CBC-SHA256:PSK-AES128-CBC-SHA
å¤åˆ¶ä»£ç 
```

### 3.1 å¯†ç å¥—ä»¶æ‹†è§£

![](https://pic-cdn.ewhisper.cn/img/2021/09/22/b2979173f2e690f0c61d46282252c0a0-cipher-parts.png)

ä»æœ¬è´¨ä¸Šè®²ï¼Œç¬¬ä¸€ä¸ªæœ¯è¯­æ˜¯**å¯†é’¥äº¤æ¢**ï¼Œå³åŒæ–¹ç”¨æ¥äº¤æ¢å¯†é’¥çš„ç®—æ³•ã€‚åœ¨ä¸Šå›¾è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯åŸºäº Diffie-Hellman ç®—æ³•ã€‚

ç¬¬äºŒä¸ªæœ¯è¯­æ˜¯æ‚¨çš„**è¯ä¹¦ä¸­çš„å¯†é’¥ç±»å‹**ã€‚å› ä¸ºæ¯ä¸ªè¯ä¹¦éƒ½æœ‰ä¸€ä¸ªç‰¹å®šç±»å‹çš„å…¬é’¥ã€‚è¿™é‡Œæ˜¯ RSAã€‚

ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ä½ çš„**ä¼ è¾“å¯†ç **ï¼Œç”¨æ¥åŠ å¯†æ‰€æœ‰æ•°æ®çš„åŠ å¯†ç®—æ³•ã€‚è¿™é‡Œé¢æœ‰å¾ˆå¤šä¸åŒçš„éƒ¨åˆ†ï¼Œä½† AES-GCM æ˜¯æœ€å®‰å…¨çš„å¯†ç ; è¿™å®é™…ä¸Šæ˜¯è‹±ç‰¹å°”å¤„ç†å™¨å‡ ä¹é›¶æˆæœ¬å®Œæˆçš„äº‹æƒ…ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªç›¸å½“ä¾¿å®œå’Œå¯é çš„å¯†ç ä½¿ç”¨ã€‚

æœ€åä¸€ç‚¹æ˜¯**å®Œæ•´æ€§**ã€‚æ­£å¦‚æˆ‘æåˆ°çš„ï¼Œæ¶ˆæ¯æœ‰ä¸€ä¸ªç¼“å­˜ï¼Œä»¥ç¡®ä¿å®ƒä»¬æ²¡æœ‰è¢«ç¯¡æ”¹ï¼Œä½†å¦‚æœå®ƒæ˜¯åŠ å¯†çš„ï¼Œå¹¶å…·æœ‰å®Œæ•´æ€§ï¼Œä½ å¯ä»¥ä»é‚£é‡Œæ ¡éªŒã€‚

### 3.2 æœåŠ¡å™¨å¯†ç å¥—ä»¶

*   å®¢æˆ·ç«¯æŒ‰ä¼˜å…ˆé¡ºåºåˆ—å‡ºå—æ”¯æŒçš„å¯†ç å¥—ä»¶
*   æœåŠ¡å™¨æ¥å—ï¼šå®¢æˆ·ç«¯åˆ—è¡¨å’ŒæœåŠ¡å™¨æ”¯æŒçš„å¯†ç åˆ—è¡¨çš„äº¤é›†
*   æœåŠ¡å™¨ä¼šé€‰æ‹©å‰©ä¸‹ä¸­çš„æ›´å–œæ¬¢çš„é‚£äº›

ç°åœ¨ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½æ”¯æŒç›¸åŒçš„å¯†ç åˆ—è¡¨ã€‚è¿™è¢«ç§°ä¸º_åè®®çµæ´»æ€§_ï¼Œå®è´¨ä¸ŠæœåŠ¡å™¨æ‰€åšçš„æ˜¯: å®¢æˆ·ç«¯è¯´ï¼Œâ€œå˜¿ï¼Œè¿™å°±æ˜¯æˆ‘æ‰€æ”¯æŒçš„å…¨éƒ¨â€ã€‚æœåŠ¡å™¨è¯´:â€œå¥½å§ï¼Œæˆ‘çŸ¥é“å…¶ä¸­çš„äº”ä¸ªã€‚æˆ‘ä¼šæŒ‘æˆ‘æœ€å–œæ¬¢çš„â€ã€‚

### 3.3 å¯†ç å¥—ä»¶å•†å®šï¼ˆCipher Suite Negotiationï¼‰

![](https://pic-cdn.ewhisper.cn/img/2021/09/24/f34e7533c8200608b389170f36835d2f-cipher-negotiation.png)

å› æ­¤ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¦‚æœå®¢æˆ·ç«¯è¯´ï¼Œã€Œå·¦è¾¹çš„è¿™äº›æ˜¯æˆ‘ä¾æ¬¡æ”¯æŒçš„ã€ï¼Œè€ŒæœåŠ¡å™¨ç«¯åªæ”¯æŒä¸¤ä¸ªï¼Œç„¶åå®ƒå°±ä¼šé€‰æ‹©è‡ªå·±å–œæ¬¢çš„ã€‚

### 3.4 æ¨èçš„å¯†ç å¥—ä»¶

è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªäº‰è®ºçš„å¤§é—®é¢˜ï¼Œä½†ä½ æœ‰å¾ˆå¤šé€‰æ‹©ã€‚CloudFlare ä½¿ç”¨è¿™ä¸ªå¯†ç å¥—ä»¶åˆ—è¡¨ï¼Œä½ å¯ä»¥åœ¨ [GitHub çš„è¿™é‡Œ](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcloudflare%2Fsslconfig "https://github.com/cloudflare/sslconfig")æ‰¾åˆ°å®ƒã€‚æœ‰ä¸€ä¸ª NGINX é…ç½®æ ¼å¼ï¼Œè¿™äº›æ˜¯ CloudFlare æ¨èçš„ã€‚è¿™äº›æ˜¯ CloudFlare ä¸Šçš„æ‰€æœ‰ç½‘ç«™æœ€ç»ˆéƒ½ä¼šä½¿ç”¨çš„ã€‚

```
ssl_protocols               TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;
ssl_ecdh_curve              X25519:P-256:P-384:P-521;
ssl_ciphers                 '[ECDHE-ECDSA-AES128-GCM-SHA256|ECDHE-ECDSA-CHACHA20-POLY1305|ECDHE-RSA-AES128-GCM-SHA256|ECDHE-RSA-CHACHA20-POLY1305]:ECDHE+AES128:RSA+AES128:ECDHE+AES256:RSA+AES256:ECDHE+3DES:RSA+3DES';
ssl_prefer_server_ciphers   on;
å¤åˆ¶ä»£ç 
```

æœ‰ä¸€ç§å¾ˆé…·çš„æ–°å¯†ç å« ChaCha 20ã€‚åœ¨ä¸»çº¿ NGINX å®ƒè¿˜ä¸æ”¯æŒï¼Œå…¶ä»–çš„éƒ½å¯ä»¥ç”¨ã€‚Mozilla åœ¨è¿™æ–¹é¢ä¹Ÿæœ‰è‡ªå·±çš„å»ºè®®ï¼Œä½ å¯ä»¥å»è®¿é—®[ä»–ä»¬çš„æœåŠ¡å™¨ç«¯ TLS ç«™ç‚¹](https://link.juejin.cn?target=https%3A%2F%2Fssl-config.mozilla.org%2F "https://ssl-config.mozilla.org/")ï¼Œä»–ä»¬ä¼šä¸ºä½ ç”Ÿæˆ NGINX æˆ–ä»»ä½•ä½ å¯èƒ½ä½¿ç”¨çš„ç½‘ç»œæœåŠ¡å™¨çš„ SSL é…ç½®ã€‚è¿™å°±æ˜¯å¯†ç å¥—ä»¶ã€‚ç”Ÿæˆçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š

```
# intermediate configuration
ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;
ssl_prefer_server_ciphers off;
å¤åˆ¶ä»£ç 
```

å››ã€è¯ä¹¦
----

ç°åœ¨æˆ‘ä»¬æœ‰äº†åè®®é›†å’Œå¯†ç é›†; æ¥ä¸‹æ¥æ˜¯è¯ä¹¦ã€‚è¿™æ˜¯ HTTPS æœ€é‡è¦çš„éƒ¨åˆ†ã€‚è¿™æ˜¯åœ¨å®¢æˆ·é¢å‰æ ‡è¯†æ‚¨ä½œä¸ºä¸€ä¸ªç«™ç‚¹çš„æ ‡å¿—ã€‚ä½†æ˜¯ï¼Œè¯ä¹¦é‡Œæœ‰ä»€ä¹ˆå‘¢?

### 4.1 è¯ä¹¦é‡Œæœ‰ä»€ä¹ˆï¼Ÿ

![](https://pic-cdn.ewhisper.cn/img/2021/09/24/4508b228c002103acca573269ab83376-cert-anatomy.png)

*   ç»„ç»‡åï¼ˆOrganization nameï¼‰
*   å…¬é’¥ï¼ˆPublic Keyï¼‰
*   é¢å‘è€…åç§°ï¼ˆIssuer nameï¼‰
*   æƒé™
    *   æœ‰æ•ˆæœŸ
    *   åŸŸåï¼ˆHostnamesï¼‰
*   é¢å‘è€…æ•°å­—ç­¾åï¼ˆDigital signature by issuerï¼‰

å…¶ä¸­åŒ…æ‹¬ä½ çš„åå­— (ä½ æ˜¯è°)ã€ä½ çš„ç«™ç‚¹é€‚ç”¨äºå“ªäº›åŸŸåã€è¯ä¹¦ä½•æ—¶æœ‰æ•ˆã€å…¬é’¥ (å®¢æˆ·å¯ä»¥ä½¿ç”¨å…¬é’¥éªŒè¯ä½ ç”¨å®ƒç­¾åçš„ä»»ä½•ä¸œè¥¿)ï¼Œç„¶åæ˜¯æ•°å­—ç­¾åã€‚æ•°å­—ç­¾åæ˜¯æ¥è‡ªå…¬å…±è¯ä¹¦é¢å‘æœºæ„çš„æˆ³è®°ï¼Œè¡¨æ˜å®ƒæ˜¯ä¸€ä¸ªçœŸå®çš„è¯ä¹¦: è¿™ä¸ªäººå®é™…ä¸Šæ‹¥æœ‰è¿™ä¸ª DNS åç§°ï¼Œå¹¶ä¸”åœ¨è¿™äº›ç‚¹ä¸Šæ˜¯æœ‰æ•ˆçš„ã€‚

### 4.2 ä»€ä¹ˆæ˜¯æˆä¿¡è¯ä¹¦ï¼Ÿ

![](https://pic-cdn.ewhisper.cn/img/2021/09/24/b9be0b482d24960df3a6dfbc1ffa6d3d-cert-trusted.png)

é‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆä½¿è¯ä¹¦å¯ä¿¡å‘¢? è¿™æ˜¯ç›®å‰äº’è”ç½‘ä¸Šæ‰€æœ‰è¯ä¹¦é¢å‘æœºæ„ (ca) çš„åˆ†ç±»ï¼Œå¤§å¤šæ•°è¯ä¹¦éƒ½æ˜¯ç”±è¿™äº›æœºæ„ç­¾ç½²çš„ã€‚è¿™é‡Œæœ‰ä¸€äº›å¸¸è§çš„åå­—ã€‚èµ›é—¨é“å…‹å·²ç»è´­ä¹°äº†å‡ ä¸ªè¿™æ ·çš„è¯ä¹¦é¢å‘æœºæ„ï¼ŒåŒ…æ‹¬ GeoTrustã€Verisign ç­‰ã€‚

è¿™äº›éƒ½æ˜¯å—ä¿¡ä»»çš„å¤§å…¬å¸ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œå®ƒä»¬çš„è¯ä¹¦å—åˆ°æµè§ˆå™¨çš„ä¿¡ä»»ã€‚å› æ­¤ï¼Œå¦‚æœèµ›é—¨é“å…‹é€šè¿‡æŸäººä»ä»–ä»¬é‚£é‡Œè´­ä¹°è¯ä¹¦çš„è¿‡ç¨‹è¡¨ç¤ºè¯¥è¯ä¹¦è‰¯å¥½ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°†æ˜¾ç¤ºç»¿é”ã€‚

### 4.3 æˆ‘å¦‚ä½•è·å¾—ä¸€ä¸ªè¯ä¹¦ï¼Ÿ

æ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºç§é’¥æˆ–ä¸€å¯¹å¯†é’¥æ¥è·å¾—è¯ä¹¦ï¼Œç„¶åå°†æ‚¨çš„å…¬é’¥å‘é€ç»™è¯ä¹¦é¢å‘æœºæ„ï¼Œé€šè¿‡éªŒè¯ç­¾ç« å°†å…¶è½¬æ¢ä¸ºè¯ä¹¦ã€‚è¿™é€šå¸¸ä¼šèŠ±è´¹ä¸€äº›é’± (æœ‰å…è´¹çš„æ–¹æ³•)ï¼Œä½†æœ¬è´¨ä¸Šç§é’¥ä½ å¿…é¡»ä¿æŒç§æœ‰ï¼Œ**å”¯ä¸€åº”è¯¥å¾—åˆ°å®ƒçš„å®ä½“æ˜¯ä½ çš„ç®¡ç†å‘˜å’Œä½ çš„ web æœåŠ¡å™¨æœ¬èº«**ã€‚

### 4.4 æˆ‘å¦‚ä½•åˆ›å»ºä¸€ä¸ª CSRï¼ˆè¯ä¹¦ç­¾åç”³è¯·ï¼‰å’Œç§é’¥ï¼Ÿ

æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ›å»ºè¿™äº›å¯†é’¥å¯¹ã€‚CSR æœ¬è´¨ä¸Šæ˜¯å°†å…¬é’¥æ‰“åŒ…åˆ°è¯ä¹¦é¢å‘æœºæ„ä»¥åˆ›å»ºè¯ä¹¦çš„æ–¹æ³•ã€‚æœ‰ OpenSSL, CFSSL ç­‰å¤šç§æ–¹å¼ã€‚

ä½¿ç”¨ OpenSSLï¼š

```
openssl genrsa -out key.pem 2048
openssl req -new -sha256 -key key.pem -out key.csr
å¤åˆ¶ä»£ç 
```

### 4.5 å¦‚ä½•è·å¾—ä¸€ä¸ªå…è´¹è¯ä¹¦ï¼Ÿ

å¦‚æœä½ æƒ³è¦ä¸€ä¸ªå…è´¹çš„ï¼Œç›®å‰æœ€çŸ¥åçš„ç½‘ç«™æ˜¯ [Let's Encrypt - å…è´¹çš„ SSL/TLS è¯ä¹¦ (letsencrypt.org)](https://link.juejin.cn?target=https%3A%2F%2Fletsencrypt.org%2Fzh-cn%2F "https://letsencrypt.org/zh-cn/")ã€‚ä»–ä»¬ä¼šç»™ä½ ä¸€ä¸ªå…è´¹ç½‘ç«™çš„è¯ä¹¦ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè·å¾—è¯ä¹¦çš„æˆæœ¬ä¼¼ä¹ä¼šæ›´ä½ã€‚è¿˜æœ‰å…è´¹è¯ä¹¦é¢å‘æœºæ„çš„å»ºè®®ã€‚æ‰€ä»¥ç°åœ¨ï¼Œä½ å¯ä»¥ä»˜è´¹ä½¿ç”¨ Comodo æˆ– DigiCert ç­‰ç½‘ç«™ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å…è´¹è·¯çº¿ã€‚

### 4.6 è¯ä¹¦é“¾ï¼ˆCertificate Chainï¼‰

è¯ä¹¦ä¸ä¼šç›´æ¥ç”±è¯ä¹¦é¢å‘æœºæ„ç­¾ç½²; è¿™æ˜¯ä¸€ç§å»ºç«‹èµ·æ¥çš„ä¿¡ä»»é“¾ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªè¯ä¹¦ï¼Œå®ƒé€šå¸¸æ˜¯ç”±ä¸€ä¸ªä¸­é—´è¯ä¹¦é¢å‘æœºæ„ç­¾ç½²çš„ï¼Œè€Œè¿™ä¸ªä¸­é—´è¯ä¹¦é¢å‘æœºæ„æ˜¯ç”±çœŸæ­£çš„è¯ä¹¦é¢å‘æœºæ„ç­¾ç½²çš„ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½å¿…é¡»çŸ¥é“é“¾ä¸­çš„ä¸‹ä¸€ä¸ªè¯ä¹¦æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸”æµè§ˆå™¨å®é™…ä¸Šåªä¸é¡¶éƒ¨ç»‘å®š (çœŸæ­£çš„è„±æœºæ ¹è¯ä¹¦)ã€‚å› æ­¤ï¼Œå½“ä½ è·å¾—ä¸€ä¸ªè¯ä¹¦æ—¶ï¼Œä½ è¿˜éœ€è¦æ‹¥æœ‰æ•´ä¸ªä¿¡ä»»é“¾ã€‚

é€šå¸¸ CA ä¼šç»™ä½ è¿™ä¸ªè¯ä¹¦é“¾é“¾ï¼Œåœ¨ CA æ²¡æœ‰ç»™ä½ çš„è¯ä¹¦é“¾æƒ…å†µä¸‹ä½ å¯ä»¥é€šè¿‡ä¸€äº›å·¥å…·å»åˆ›å»ºã€‚

![](https://pic-cdn.ewhisper.cn/img/2021/09/24/d34a7a8844db447dd5715d26da8dba21-20210924103803.png)

> _ä¸‰äººè¡Œ, å¿…æœ‰æˆ‘å¸ˆ; çŸ¥è¯†å…±äº«, å¤©ä¸‹ä¸ºå…¬._ æœ¬æ–‡ç”±ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ [EWhisper.cn](https://link.juejin.cn?target=https%3A%2F%2FEWhisper.cn "https://EWhisper.cn") ç¼–å†™.